% Script File: kmr_21.mscr
% Decoded from: 0 to 7F0 (kmr_21)

#new:Function_Init $Function_Init
    0:  JR        RA
    4:  ADDIU     V0, R0, 1

PADDING: 80240008 to 80240010 (00000008 to 00000010)
00000000 00000000 

% Origin: HEURISTIC
#new:Function $Function_80240010
    0:  ADDIU     SP, SP, FFF0
    4:  DADDU     T1, R0, R0
    8:  LIA       V0, 8009A66C
   10:  DADDU     T0, V0, R0
   14:  LIO       T6, FD1800C7
   1C:  SW        S3, C (SP)
   20:  LIA       S3, $End[4]
   28:  LIO       T3, *Array[6B8F80]
   30:  SW        S2, 8 (SP)
   34:  LUI       S2, 700
   38:  SW        S1, 4 (SP)
   3C:  LUI       S1, E600
   40:  SW        S0, 0 (SP)
   44:  LUI       S0, F400
   48:  LIO       T5, 0731C004
   50:  LUI       T9, E700
   54:  LUI       T8, F200
   58:  LIO       T4, 0031C004
   60:  LIA       T7, $???_80240334
   68:  DADDU     T2, T1, R0
   6C:  LW        V1, 0 (T0)
   70:  LUI       V0, DE00
   74:  DADDU     A0, V1, R0
   78:  ADDIU     V1, V1, 8
   7C:  SW        V1, 0 (T0)
   80:  SW        V0, 0 (A0)
   84:  LIA       V0, $DisplayList_80240338
   8C:  SW        V0, 4 (A0)
   90:  ADDIU     V0, V1, 8
   94:  SW        V0, 0 (T0)
   98:  LABU      A0, $???_80240330[3]
   A0:  LUI       V0, FA00
   A4:  SW        V0, 0 (V1)
   A8:  ADDIU     V0, V1, 10
   AC:  SW        A0, 4 (V1)
   B0:  SW        V0, 0 (T0)
   B4:  DADDU     V0, T9, R0
   B8:  SW        V0, 8 (V1)
   BC:  SW        R0, C (V1)
        .oC0
   C0:  LIO       A3, 04000400
   C8:  SLL       A1, T1, 1
   CC:  ADDIU     T1, T1, 1
   D0:  LW        A0, 0 (T0)
   D4:  LW        V0, 0 (S3)
   D8:  DADDU     V1, A0, R0
   DC:  ADDIU     A0, A0, 8
   E0:  ADDU      V0, V0, T2
   E4:  ADDIU     T2, T2, 640
   E8:  SW        A0, 0 (T0)
   EC:  SW        V0, 4 (V1)
   F0:  ADDIU     V0, A0, 8
   F4:  SW        T6, 0 (V1)
   F8:  SW        V0, 0 (T0)
   FC:  ADDIU     V0, A0, 10
  100:  SW        T3, 0 (A0)
  104:  SW        S2, 4 (A0)
  108:  SW        V0, 0 (T0)
  10C:  ADDIU     V0, A0, 18
  110:  SW        S1, 8 (A0)
  114:  SW        R0, C (A0)
  118:  SW        V0, 0 (T0)
  11C:  ADDIU     V0, A0, 20
  120:  SW        S0, 10 (A0)
  124:  SW        T5, 14 (A0)
  128:  SW        V0, 0 (T0)
  12C:  ADDIU     V0, A0, 28
  130:  SW        T9, 18 (A0)
  134:  SW        R0, 1C (A0)
  138:  SW        V0, 0 (T0)
  13C:  ADDIU     V0, A0, 30
  140:  SW        T3, 20 (A0)
  144:  SW        R0, 24 (A0)
  148:  SW        V0, 0 (T0)
  14C:  ADDIU     V0, A0, 38
  150:  SW        T8, 28 (A0)
  154:  SW        T4, 2C (A0)
  158:  LW        A2, 0 (T7)
  15C:  LUI       V1, E441
  160:  SW        V0, 0 (T0)
  164:  ADDIU     V0, A2, 2
  168:  ADDU      V0, A1, V0
  16C:  SLL       V0, V0, 2
  170:  ANDI      V0, V0, FFF
  174:  OR        V0, V0, V1
  178:  ADDU      A1, A1, A2
  17C:  SLL       A1, A1, 2
  180:  ANDI      A1, A1, FFF
  184:  SW        V0, 30 (A0)
  188:  LUI       V0, F
  18C:  OR        A1, A1, V0
  190:  ADDIU     V0, A0, 40
  194:  SW        A1, 34 (A0)
  198:  SW        V0, 0 (T0)
  19C:  LUI       V0, E100
  1A0:  SW        V0, 38 (A0)
  1A4:  ADDIU     V0, A0, 48
  1A8:  SW        R0, 3C (A0)
  1AC:  SW        V0, 0 (T0)
  1B0:  LUI       V0, F100
  1B4:  SW        V0, 40 (A0)
  1B8:  SLTI      V0, T1, 38
  1BC:  BNE       V0, R0, .oC0
  1C0:  SW        A3, 44 (A0)
  1C4:  LIA       V1, 8009A66C
  1CC:  LW        V0, 0 (V1)
  1D0:  DADDU     A0, V0, R0
  1D4:  ADDIU     V0, V0, 8
  1D8:  SW        V0, 0 (V1)
  1DC:  LUI       V0, E700
  1E0:  SW        V0, 0 (A0)
  1E4:  SW        R0, 4 (A0)
  1E8:  LW        S3, C (SP)
  1EC:  LW        S2, 8 (SP)
  1F0:  LW        S1, 4 (SP)
  1F4:  LW        S0, 0 (SP)
  1F8:  JR        RA
  1FC:  ADDIU     SP, SP, 10

#new:Function $Function_80240210
    0:  ADDIU     SP, SP, FFD8
    4:  LIA       A0, $ASCII_802407D0
    C:  ADDIU     A1, SP, 10
   10:  SW        RA, 20 (SP)
   14:  SW        S1, 1C (SP)
   18:  JAL       8005ACE8
   1C:  SW        S0, 18 (SP)
   20:  LW        A0, 10 (SP)
   24:  JAL       8002ACE4
   28:  DADDU     S1, V0, R0
   2C:  DADDU     A0, S1, R0
   30:  DADDU     A1, V0, R0
   34:  LIA       S0, $End[0]
   3C:  JAL       8006EDF0
   40:  SW        A1, 0 (S0)
   44:  JAL       8002AC78
   48:  DADDU     A0, S1, R0
   4C:  LW        V1, 0 (S0)
   50:  LW        V0, 0 (V1)
   54:  LIA       A1, $Function_80240010
   5C:  ADDU      V0, V0, V1
   60:  SAW       V0, $End[4]
   68:  JAL       8012323C
   6C:  DADDU     A0, R0, R0
   70:  LW        RA, 20 (SP)
   74:  LW        S1, 1C (SP)
   78:  LW        S0, 18 (SP)
   7C:  ADDIU     V0, R0, 2
   80:  JR        RA
   84:  ADDIU     SP, SP, 28

MISSING: 80240298 to 802402B4 (00000298 to 000002B4)
3C028007 8C42419C 8C420010 30429000 0002102B 03E00008 00021040 

#new:Function $Function_802402B4
    0:  LW        V0, 84 (A0)
    4:  SAW       V0, $???_80240330
    C:  JR        RA
   10:  ADDIU     V0, R0, 2

#new:Function $Function_802402C8
    0:  LW        V0, 84 (A0)
    4:  SAW       V0, $???_80240334
    C:  JR        RA
   10:  ADDIU     V0, R0, 2

PADDING: 802402DC to 802402E0 (000002DC to 000002E0)
00000000 

#new:EntryList $EntryList
{Vec4f:Entry0} %    0.0    0.0    0.0    0.0

#new:Header $Header
00000000 00000000 00000000 00000000 
$Script_Main $EntryList 00000001 00000000 
00000000 00000000 00000000 00000000 
00000000 00000000 00000000 00000000 

#new:Unknown $???_80240330
00000000 

#new:Unknown $???_80240334
0000006A 

% Origin: HEURISTIC
#new:DisplayList $DisplayList_80240338
E7000000 00000000 E3000A01 00000000 E200001C 00504240 FCFFA7FF FF4CFE7F 
E3001201 00000000 D7000002 FFFFFFFF E3000C00 00000000 E3001801 000000C0 
E3001A01 00000030 E3000F00 00000000 E3001001 00000000 E3000D01 00000000 
E3001402 00000C00 E3001700 00000000 E2001E01 00000000 00000000 00000000 
DF000000 00000000 

#new:Script $Script_802403C0
    0:  Call     $Function_80240210 ( )
    C:  Wait     0000000F 
   18:  Thread
   20:  	Call     MakeLerp    	( 00000000 000000FF 00000064 00000005 )
   3C:  	Loop     
   48:  		Call     UpdateLerp  	( )
   54:  		Call     $Function_802402B4 ( )
   60:  		Wait     00000001 
   6C:  		If  *Var[1]  ==  00000000 
   7C:  			BreakLoop
   84:  		EndIf
   8C:  	EndLoop
   94:  EndThread
   9C:  Call     MakeLerp    	( 0000006A 00000038 00000064 00000005 )
   B8:  Loop     
   C4:  	Call     UpdateLerp  	( )
   D0:  	Call     $Function_802402C8 ( )
   DC:  	Wait     00000001 
   E8:  	If  *Var[1]  ==  00000000 
   F8:  		BreakLoop
  100:  	EndIf
  108:  EndLoop
  110:  Wait     0000001E 
  11C:  Call     MakeLerp    	( 000000FF 00000000 00000032 00000001 )
  138:  Loop     
  144:  	Call     UpdateLerp  	( )
  150:  	Call     $Function_802402B4 ( )
  15C:  	Wait     00000001 
  168:  	If  *Var[1]  ==  00000000 
  178:  		BreakLoop
  180:  	EndIf
  188:  EndLoop
  190:  Wait     0000000F 
  19C:  Call     GotoMapSpecial ( $ASCII_802407DC 00000000 00000006 )
  1B4:  Wait     00000064 
  1C0:  Return
  1C8:  End

#new:Script_Main $Script_Main
    0:  Call     DisablePlayerInput 	( .True )
   10:  Call     DisablePlayerPhysics 	( .True )
   20:  Call     SetPlayerPos 	( FFFFFC18 00000000 00000000 )
   38:  Wait     00000001 
   44:  Call     GetCurrentPartner 	( *Var[0] )
   54:  If  *Var[0]  !=  00000000 
   64:  	Call     DisablePartnerAI 	( 00000000 )
   74:  	Call     SetNpcFlagBits ( .Npc:Partner 00000200 .False )
   8C:  	Call     SetNpcPos   	( .Npc:Partner 00000000 FFFFFC18 00000000 )
   A8:  EndIf
   B0:  Call     SetSpriteShading 	( FFFFFFFF )
   C0:  Call     SetCamPerspective 	( .Default 00000003 00000019 00000010 00001000 )
   E0:  Call     SetCamBGColor 	( .Default 000000D0 000000D0 000000D0 )
   FC:  Call     SetCamFlag2 	( .Default .True )
  110:  Call     SetCamFlag4 	( .Default .False )
  124:  Call     SetCamType  	( .Default 00000004 00000000 )
  13C:  Call     SetCamAngles 	( .Default 00000000 00000000 )
  154:  Call     SetCamDistance ( .Default 000001B8 )
  168:  Call     SetCamPosA  	( .Default 00000000 00000064 )
  180:  Call     SetCamPosB  	( .Default 00000000 00000000 )
  198:  Call     SetCamPosC  	( .Default 00000000 00000041 )
  1B0:  Call     SetPanTarget 	( .Default 00000000 00000000 00000000 )
  1CC:  Call     SetCamSpeed 	( .Default *Fixed[90.0] )
  1E0:  Call     PanToTarget 	( .Default 00000000 00000001 )
  1F8:  Call     DisablePlayerInput 	( .True )
  208:  Call     DisablePlayerPhysics 	( .True )
  218:  Wait     00000001 
  224:  Exec     $Script_802403C0 
  230:  Return
  238:  End

% Origin: HEURISTIC
#new:ASCII $ASCII_802407D0
title_data

#new:ASCII $ASCII_802407DC
kmr_22

PADDING: 802407E4 to 802407F0 (000007E4 to 000007F0)
00000000 00000000 00000000 

